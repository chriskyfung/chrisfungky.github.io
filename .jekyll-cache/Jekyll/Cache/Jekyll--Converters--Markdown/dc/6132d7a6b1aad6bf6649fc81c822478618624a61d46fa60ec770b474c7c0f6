I"-<!--more-->

<p>Last time I wrote about a challenging lab entitled <em>“<a href="/blog/qwiklabs/Configure-Windows-Bastion-Host-with-Terraform-on-GCP">Configure Secure RDP using a Windows Bastion Host with Terraform</a>“</em> within the Qwiklabs quest of “<a href="https://google.qwiklabs.com/quests/47">Challenge: GCP Architecture</a>”. Different from the normal hand-on-labs in Qwiklabs, the challenge labs do not provide step-by-step cookbooks for you. Instead, only a scenario is given to you. So, you have to figure out the solutions by yourself as the exercises for who prepare for the <a href="https://cloud.google.com/certification/cloud-architect">Google Cloud Certified Professional Cloud Architect</a>. Some of them are hard and tricky, and you cannot try the labs again and again (because each lab has a limited quota to attempt). So, I am going to make a logbook for each of the labs in the challenge quest. I hope the articles would help you if you get stuck with taking those labs.</p>

<p>This time is about the easiest lab in the challenge quest – <strong>GSP101</strong> <em>“<a href="https://google.qwiklabs.com/focuses/1734?parent=catalog">Google Cloud Essential Skills: Challenge Lab</a>“</em>. It just asks you to set up a VM instance with running Apache webserver. <strong>Pretty BASIC!</strong> If you know how to do that, I recommend you to try your best. Do not read the rest of the article unless you really need some more Hints.</p>

<p><strong>Note</strong>: Please DO NOT confuse the current lab with <em>GSP313 Google Cloud Essentials: Challenge Lab</em>. If you’re looking for that logbook, please <a href="/blog/qwiklabs/Google-Cloud-Essential-Challenge-Lab">click on the link here</a>.</p>

<p><br /></p>

<h2 id="brief-introduction-of-challenge-scenario">Brief Introduction of Challenge Scenario</h2>

<p>When you open the page of this lab in Qwiklabs, you can find the task requirements by click the green activity tracker (on the top right of the page) to expand the score box.</p>

<p><img src="/images/posts/qwiklabs/score_box_of_qwiklabs_GSP101.png" alt="Screenshot of Green Score box of Qwiklabs Hands-on-lab GSP101" /></p>

<p>The screenshot above shows that there are 6 steps required for completing this lab. Combining with the instruction details, they are translated to the following mission statements.</p>

<ol>
  <li>
    <p>Create a Linux virtual machine, name it <code class="highlighter-rouge">apache</code> and specify the zone as <code class="highlighter-rouge">us-central1-a</code> with necessary firewall rules (<code class="highlighter-rouge">allow HTTP</code>).</p>
  </li>
  <li>
    <p>Configure Apache2 Web Server in your instance.</p>
  </li>
  <li>
    <p>Test your server that shows a <code class="highlighter-rouge">"Hello World!"</code> page.</p>
  </li>
</ol>

<p><br /></p>

<h2 id="step-1---create-a-vm-instance">Step 1 - Create a VM instance</h2>

<p>To create a Compute Engine instance, the easiest way is through the GCP web console. In the Console, navigate to <em>Compute Engine</em> &gt; <em>VM instances</em>. When you create a new VN instance,</p>

<ul>
  <li>Make sure you give the instance a name, called <code class="highlighter-rouge">apache</code>, and</li>
  <li>Select <code class="highlighter-rouge">Allow HTTP traffic</code> under the Firewall section.</li>
</ul>

<p><img src="/images/posts/qwiklabs/qwiklabs-GSP101-step1-create-GCP-VM-instance.png" alt="Create a GCP VM instance called apache via GCP web console" /></p>

<p><img src="/images/posts/qwiklabs/qwiklabs-GSP101-step2-allow-HTTP-traffic-in-firewall-setting.png" alt="Select allow HTTP traffic in the firewall setting" /></p>

<p>You can leave other fields with the default settings, then click <strong>Create</strong>.</p>

<p><img src="/images/posts/qwiklabs/qwiklabs-GSP101-check-progress1-VM-created.png" alt="Check your progress: Created Compute Engine instance, called apache" /></p>

<p><br /></p>

<h2 id="step-2---install-apache-and-overwrite-default-web-page">Step 2 - Install Apache and Overwrite Default Web Page</h2>

<p>After the VM instance is really, you have to configure it as an Apache webserver. If you do not remember how to install Apache, I advise you look up the <strong><em>command lines</em></strong> from the lab <strong>GSP212</strong> <em>“<a href="https://www.qwiklabs.com/catalog?keywords=GSP212">VPC Flow Logs - Analyzing Network Traffic</a>“</em>.</p>

<p>Keep inside the VM instances console, click <strong>SSH</strong> to launch a terminal and connect to the <code class="highlighter-rouge">apache</code> instance. You will install the packages with the following command-lines.</p>

<p>In the SSH terminal, update the package index:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
</code></pre></div></div>

<p>Install the apache2 package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>apache2 <span class="nt">-y</span>
</code></pre></div></div>

<p><br /> 
Copy the External IP of the instance to your web browser. You should see an Apache2 Debian Default Page if the web server is successfully installed.</p>

<p><img src="/images/posts/qwiklabs/qwiklabs-GSP101-step3-configure-apache2-web-server-in-VM-instance.png" alt="Apache2 Debian Default Page" /></p>

<p>Finally, you have to overwrite the default web page to rendering with <strong>“Hello World!”</strong>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'</span> | <span class="nb">sudo tee</span> /var/www/html/index.html
</code></pre></div></div>

<p>Refresh the web page in your browser,</p>

<p><img src="/images/posts/qwiklabs/qwiklabs-GSP101-step4-test-custom-default-web-page.png" alt="Hello World!" /></p>

<p>Congratulations! You should accomplish the lab if you follow all the above steps.</p>

<p>This post has also been published to Medium. If you like to read and take notes in Medium, please visit <a href="https://medium.com/@chriskyfung/qwiklab-logbook-google-cloud-essential-skills-challenge-lab-dda48c5915cf">Medium (@chriskyfung)</a>.</p>

<hr />

<p>Creating a Compute Engine instance as a web server using the web console is pretty basic. It is always a good start for you to build anything from scratch, and manually install packages via an SSH terminal. Alternatively, you can initialize identical instances with a startup script automatically, and you can practise it in the next lab, <em><a href="/blog/qwiklabs/Deploy-a-Compute-Instance-with-a-Remote-Startup-Script">Qwiklab/Logbook: Deploy a Compute Instance with a Remote Startup Script</a></em>.</p>

<p><strong>Related post:</strong></p>

<ul>
  <li><em><a href="/blog/qwiklabs/Qwiklabs-User-Tips-for-Learning_Google_Cloud_Platform">Learning Google Cloud Platform on Qwiklabs: Learning Map, Assistive Tool and Tips</a></em></li>
</ul>
:ET