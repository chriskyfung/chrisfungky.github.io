<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="msvalidate.01" content="9C87A2FE066C755406F5FFCAE1321439" />
    <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/header.css">
    
    

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Highlighting words in PDF using the JavaScript console in PDF-Xchange Viewer | Chris KY FUNG's GitHub Page</title>
    <meta name="author" content=>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      <meta content="Highlighting words in PDF using the JavaScript console in PDF-Xchange Viewer | Chris KY FUNG's GitHub Page" property="og:title">
    
    
      <meta content="Feel free to bookmark this to keep an eye on my project updates" property="og:description">
    
    
      <meta content="http://localhost:4000/images/posts/write-2160925.svg" property="og:image">
    

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>Chris KY FUNG's GitHub Page</h1>
        </a>
        <h2>Feel free to bookmark this to keep an eye on my project updates</h2>
        
        
      </div>
    </header>
	  
    <nav>
  <ul>
    
    <li><a href="/" >
      Home
    </a></li>
    
    <li><a href="/about.html" >
      About
    </a></li>
    
    <li><a href="/blog/index.html" >
      Blog
    </a></li>
    
    <li id="toggle-search"><i class="fas fa-search" onclick="toggleSearchBar()"></i></li>
  </ul>
</nav>
<script async src="https://cse.google.com/cse.js?cx=011006674894885990812:tjln7k0nyjx"></script>
<div class="gcse-search"></div>
<script>
  function toggleSearchBar() {
    var searchBar = document.querySelector("#___gcse_0");
    if ( searchBar.style.display == "block") {
      searchBar.style.display = "none";
    } else {
      searchBar.style.display = "block";
    }
  }
</script>
    <div id="content-wrapper">
	<div class="inner clearfix">
	<section id="main-content">
	  <h2 class="title">Highlighting words in PDF using the JavaScript console in PDF-Xchange Viewer</h2>

<div class="page-info">
	<span class="date"><info datetime="2015-04-09 00:00:00 +0000">
		09 Apr 2015  by Chris KY Fung 
	</info></span>
	<span class="page-tags">
		
		
		<a href="/tag/PDF Viewer"><code class="highligher-rouge"><nobr>PDF Viewer</nobr></code>&nbsp;</a>
		
		
		<a href="/tag/shorthand"><code class="highligher-rouge"><nobr>shorthand</nobr></code>&nbsp;</a>
		
		
		<a href="/tag/user tips"><code class="highligher-rouge"><nobr>user tips</nobr></code>&nbsp;</a>
		
	</span>
	<br><br>
	<!-- Go to www.addthis.com/dashboard to customize your tools -->
	<div class="addthis_inline_share_toolbox"></div>
</div>

<!-- Post content -->
<div class="notebody">
	<p>For a long time, I have used PDF-Xchange Viewer to the PDF files of ebooks, papers, dissertations, etc. I prefer it rather than Adobe Reader. One of the reasons is because Xchange provides a JavaScript console, which can be invoked by hitting Ctrl+J. Thus, we can attempt to automate some annotations; for example, search and highlight words. You can find a source code from the knowledge base of Xchange (https://www.tracker-software.com/knowledgebase/385-How-do-I-Highlight-My-Search-Results). However, the original code can only find words that match exactly. Here, I modified the code in Line 10 and thereby it highlights words that contain the text to be searched.</p>

<!--more-->

<h3 id="modified-js-script">Modified JS script</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">ï»¿</span><span class="kd">function</span> <span class="nx">DoHighlight</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">nTotal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
     <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">p</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">numPages</span><span class="p">;</span> <span class="nx">p</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cnt</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPageNumWords</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">w</span> <span class="o">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">w</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPageNthWord</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nx">w</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">s</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">addAnnot</span><span class="p">({</span>
                    <span class="na">page</span><span class="p">:</span> <span class="nx">p</span><span class="p">,</span>
                     <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Highlight</span><span class="dl">"</span><span class="p">,</span>
                    <span class="na">quads</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPageNthWordQuads</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nx">w</span><span class="p">),</span>
                    <span class="p">});</span>
                <span class="nx">nTotal</span><span class="o">++</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
     <span class="k">return</span> <span class="nx">nTotal</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">DoHighlight</span><span class="p">(</span><span class="dl">"</span><span class="s2">text to be searched</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">println</span><span class="p">(</span><span class="nx">t</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> words were highlighted</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="enhance-productivity-with-text-expanders">Enhance productivity with text expanders</h3>

<p>One little problem is that you have to copy and paste the code to the JavaScript console, when you closed the viewer and open it again. It is inconvenient. One way to streamline it is to use a text expander, such as PhraseExpress, to create a shortcut/autotext to recall the script more easily and quickly. Thus, when I type the autotext (e.g. JS.h), then the all script is loaded to the console automatically.</p>

<hr />

<h3 id="see-also"><em>See also</em></h3>
<ul>
  <li><a href="https://www.tracker-software.com/knowledgebase/355-How-do-I-use-JavaScript-in-PDF-XChange-Editor">How do I use JavaScript in PDF XChange Editor?</a></li>
</ul>

</div>

<!-- Post info -->
<div class="noteinfo">
<!-- include some categories and tags maybe? -->
</div>

<hr>

<!-- Post comments -->


<!-- Disqus comments -->
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https://chriskyfung.github.io//blog/2015/04/09/Highlighting-words-in-PDF-using-the-JavaScript-console-in-PDFXchange-Viewer";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "https://chriskyfung.github.io//blog/2015/04/09/Highlighting-words-in-PDF-using-the-JavaScript-console-in-PDFXchange-Viewer"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://chriskyfung.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</section>
	<aside id="sidebar">
  
  
  
  <h2><i class='far fa-newspaper'></i> <a href="/blog/index.html">Blog</a></h2>
  <h3><a href="/blog/categories.html">Categories</a></h3>
  <h3><a href="/blog/tags.html">Tags</a></h3>
  <ul>    
    <li><h3><a href="/tag/Qwiklabs">Qwiklabs Tools & Logbooks</a></h3></li>
    <li><h3><a href="/tag/Tumblr">For Tumblr Developer</a></h3></li>
    <li><h3><a href="/tag/MATLAB">MATLAB Tips</a></h3></li>
  </ul>
  <h2><i class='fab fa-youtube'></i> <a href="https://www.youtube.com/channel/UCp0xYv7zaQmAj77GcU-msJg">YouTube Channels</a></h2>
  <ul><li><h3><a href="https://www.youtube.com/channel/UCp0xYv7zaQmAj77GcU-msJg" target="_blank">Chris's Research Channel</a></h3></li>
    <li><h3><a href='https://www.youtube.com/channel/UCGlT2itihZuRxMckNcfcA3A'>Craftweeks Channel</a></h3></li>
  </ul>
  
  <h2>&nbsp;<a href="https://www.paypal.me/chrisfungky/50" target="_blank"><button class="round">Give me a help <i class='fas fa-donate'></i></button></a></h2>
  
  <h2><i class='fas fa-gift'></i> <a href="https://invitation.codes/u/qgcUCyqa" target="_blank">Promo Codes</a></h2>
  
  <!-- Copyscape Banner -->
  <div id="copyscape-banner"><a href="http://www.copyscape.com/"><img src="//banners.copyscape.com/img/copyscape-banner-white-130x46.png" width="130" height="46" border="0" alt="Protected by Copyscape" title="Protected by Copyscape - Do not copy content from this page." /></a></div>

  <!-- Google Adsense -->  
  <script data-ad-client="ca-pub-4819282024314540" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- github_resp_sidebar -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4819282024314540"
     data-ad-slot="1391498756"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  
  <!-- Affiliate Disclouse -->
  <div id="vig-disclose"><a href="https://www.viglink.com/legal/disclosures/users?vgtag=badge"><img alt="VigLink badge" height="60" src="https://www.viglink.com/images/badges/120x60.png" title="Links monetized by VigLink" width="120"/></a></div>
</aside>

	</div>
    </div>  

    <footer>   
    <div class="invitation-codes invitation-codes-badge1" data-type="badge1" data-product="" style="float:left;"><a class="" href="https://invitation.codes/" data-type="badge1">Use my referral codes</a></div>
<script async defer src="//invitation.codes/embed/user/qgcUCyqa/embed.js"></script>

    <div id="footer-copyright">&copy; 2014-2020 Chris KY FUNG. All rights reserved</div>
    <div id="footer-powered">Powered by <a href="https://pages.github.com">GitHub Pages</a></div>
</footer>

	
    
      <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-72575541-9"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-72575541-9');
	</script>
    
    
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d01c83d522ad580"></script>
    <script type="text/javascript">
  var vglnk = {key: '56a8cde8bc46ec169ed23320c0e35c68'};
  (function(d, t) {
      var s = d.createElement(t);
          s.type = 'text/javascript';
          s.async = true;
          s.src = '//cdn.viglink.com/api/vglnk.js';
      var r = d.getElementsByTagName(t)[0];
          r.parentNode.insertBefore(s, r);
  }(document, 'script'));
</script>
	  
  </body>
</html>

