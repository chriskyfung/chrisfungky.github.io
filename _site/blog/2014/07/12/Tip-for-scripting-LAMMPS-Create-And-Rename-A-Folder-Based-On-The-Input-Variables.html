<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="msvalidate.01" content="9C87A2FE066C755406F5FFCAE1321439" />
    <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/header.css">
    
    

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Tip for scripting LAMMPS: Create And Rename A Folder Based On The Input Variables | Chris KY FUNG's GitHub Page</title>
    <meta name="author" content=>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      <meta content="Tip for scripting LAMMPS: Create And Rename A Folder Based On The Input Variables | Chris KY FUNG's GitHub Page" property="og:title">
    
    
      <meta content="Feel free to bookmark this to keep an eye on my project updates" property="og:description">
    
    
      <meta content="http://localhost:4000/images/posts/write-2160925.svg" property="og:image">
    

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>Chris KY FUNG's GitHub Page</h1>
        </a>
        <h2>Feel free to bookmark this to keep an eye on my project updates</h2>
        
        
      </div>
    </header>
	  
    <nav>
  <ul>
    
    <li><a href="/" >
      Home
    </a></li>
    
    <li><a href="/about.html" >
      About
    </a></li>
    
    <li><a href="/blog/index.html" >
      Blog
    </a></li>
    
    <li id="toggle-search"><i class="fas fa-search" onclick="toggleSearchBar()"></i></li>
  </ul>
</nav>
<script async src="https://cse.google.com/cse.js?cx=011006674894885990812:tjln7k0nyjx"></script>
<div class="gcse-search"></div>
<script>
  function toggleSearchBar() {
    var searchBar = document.querySelector("#___gcse_0");
    if ( searchBar.style.display == "block") {
      searchBar.style.display = "none";
    } else {
      searchBar.style.display = "block";
    }
  }
</script>
    <div id="content-wrapper">
	<div class="inner clearfix">
	<section id="main-content">
	  <h2 class="title">Tip for scripting LAMMPS: Create And Rename A Folder Based On The Input Variables</h2>

<div class="page-info">
	<span class="date"><info datetime="2014-07-12 00:00:00 +0000">
		12 Jul 2014  by Chris KY Fung 
	</info></span>
	<span class="page-tags">
		
		
		<a href="/tag/lammps"><code class="highligher-rouge"><nobr>lammps</nobr></code>&nbsp;</a>
		
		
		<a href="/tag/linux"><code class="highligher-rouge"><nobr>linux</nobr></code>&nbsp;</a>
		
		
		<a href="/tag/command-line"><code class="highligher-rouge"><nobr>command-line</nobr></code>&nbsp;</a>
		
	</span>
	<br><br>
	<!-- Go to www.addthis.com/dashboard to customize your tools -->
	<div class="addthis_inline_share_toolbox"></div>
</div>

<!-- Post content -->
<div class="notebody">
	<p>In a molecular dynamics study, simulation is often repeated with different sets of parameters, e.g. dimensions, velocity, initial pressure and temperature. If the parameters are defined as variables in the LAMMPS input script, we can change the value of the variables using the command line/terminal. So, we don’t need to modify the script each time.</p>

<p>I like storing each set of the simulation results to a well-labelled folder. This way makes systematic file management for finding the data in the future. For a long time, I did filing manually. It was gloomy and time consuming for creating and naming a new folder as well as moving the files. Recently, I found that the shell command can help to reduce the workload in the filing process.  The shell command has been introduced in my last post about how to send an email in the simulation process.</p>

<p>It is very useful as it allows to call the system commands and other programs.</p>

<p><img src="/images/posts/lammps/new_3folder_80x80.png" alt="image: New folder with LAMMPS scripts" /></p>

<!--more-->

<h3 id="methods">Methods</h3>

<p>I use the mkdir and cp commands this time.</p>

<p><code class="highlighter-rouge">shell mkdir FOLDERNAME</code>  make a new directory named to be FOLDERNAME</p>

<p><code class="highlighter-rouge">shell cp FILENAME  DESTINATION</code>   copy the file to another directory</p>

<h3 id="example-input-script">Example input script</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Input variables</span>
<span class="c"># -potential (choose the version of Tersoff potential used, options=y1990/y1994)`</span>
<span class="c"># -vx  (velocity = vx  * 100 m s^-1 in x-direction, units = metal )</span>

<span class="c"># Define a string for the folder name (* Don't use spaces in the string, use '_ ' instead)</span>
variable respath string <span class="k">${</span><span class="nv">vx</span><span class="k">}</span>x100_m_s-1_Tersoff_<span class="k">${</span><span class="nv">potential</span><span class="k">}</span>
print <span class="s2">"</span><span class="k">${</span><span class="nv">respath</span><span class="k">}</span><span class="s2">"</span>

<span class="c"># Make the new folders</span>
shell <span class="nb">mkdir</span> <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>
shell <span class="nb">mkdir</span> <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>/log_files
shell <span class="nb">mkdir</span> <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>/restart_files

<span class="c"># Copy the log file to the defined folder</span>
shell <span class="nb">cp </span>log.lammps <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>/log_files/

<span class="c"># Use if…then...elif ..else and variable  to select the potential style</span>
<span class="k">if</span> <span class="s2">"</span><span class="k">${</span><span class="nv">potential</span><span class="k">}</span><span class="s2"> == 1990"</span>  <span class="k">then</span> <span class="s2">"pair_coeff * * SiC_1990.tersoff C Si C"</span> &amp;
<span class="k">elif</span> <span class="s2">"</span><span class="k">${</span><span class="nv">potential</span><span class="k">}</span><span class="s2"> == y1994"</span>  <span class="s2">"pair_coeff        * * SiC_1994.tersoff C Si C"</span> &amp;
<span class="k">else</span> <span class="s2">"print 'choose the variable -potential to be y1990 or y1994'"</span> &amp; quit

<span class="c"># Set a variable velocity</span>
fix 1 groupID move linear -<span class="nv">$vx</span> 0 0 units box

<span class="c"># set the output paths of restart and dump files</span>
restart     10000 <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>/restart_files/<span class="k">*</span>.restart
dump         1 all xyz  500 <span class="k">${</span><span class="nv">respath</span><span class="k">}</span>/dump.<span class="k">*</span>.lammpstrj
</code></pre></div></div>

<h3 id="example-command-line">Example command line</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>lammps_linux  <span class="nt">-v</span> potential  y1990 <span class="nt">-v</span> vx  1.0 &lt; <span class="k">in</span>.script
</code></pre></div></div>

<h3 id="results">Results</h3>

<p>As a result, the LAMMPS will create a folder <strong>“1.0x100_m_s-1_Tersoff_y1990”</strong> in the current directory. All the log, restart and dump files for this set of variables will be contained under this folder.</p>

<hr />

<p>Related post: <em><a href="/blog/2014/06/13/How-to-Send-a-Notification-from-a-LAMMPS-Simulation-to-Your-Email">How to Send a Notification from a LAMMPS Simulation to Your Email</a></em></p>

</div>

<!-- Post info -->
<div class="noteinfo">
<!-- include some categories and tags maybe? -->
</div>

<hr>

<!-- Post comments -->


<!-- Disqus comments -->
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https://chriskyfung.github.io//blog/2014/07/12/Tip-for-scripting-LAMMPS-Create-And-Rename-A-Folder-Based-On-The-Input-Variables";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "https://chriskyfung.github.io//blog/2014/07/12/Tip-for-scripting-LAMMPS-Create-And-Rename-A-Folder-Based-On-The-Input-Variables"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://chriskyfung.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	</section>
	<aside id="sidebar">
  
  
  
  <h2><i class='far fa-newspaper'></i> <a href="/blog/index.html">Blog</a></h2>
  <h3><a href="/blog/categories.html">Categories</a></h3>
  <h3><a href="/blog/tags.html">Tags</a></h3>
  <ul>    
    <li><h3><a href="/tag/Qwiklabs">Qwiklabs Tools & Logbooks</a></h3></li>
    <li><h3><a href="/tag/Tumblr">For Tumblr Developer</a></h3></li>
    <li><h3><a href="/tag/MATLAB">MATLAB Tips</a></h3></li>
  </ul>
  <h2><i class='fab fa-youtube'></i> <a href="https://www.youtube.com/channel/UCp0xYv7zaQmAj77GcU-msJg">YouTube Channels</a></h2>
  <ul><li><h3><a href="https://www.youtube.com/channel/UCp0xYv7zaQmAj77GcU-msJg" target="_blank">Chris's Research Channel</a></h3></li>
    <li><h3><a href='https://www.youtube.com/channel/UCGlT2itihZuRxMckNcfcA3A'>Craftweeks Channel</a></h3></li>
  </ul>
  
  <h2>&nbsp;<a href="https://www.paypal.me/chrisfungky/50" target="_blank"><button class="round">Give me a help <i class='fas fa-donate'></i></button></a></h2>
  
  <h2><i class='fas fa-gift'></i> <a href="https://invitation.codes/u/qgcUCyqa" target="_blank">Promo Codes</a></h2>
  
  <!-- Copyscape Banner -->
  <div id="copyscape-banner"><a href="http://www.copyscape.com/"><img src="//banners.copyscape.com/img/copyscape-banner-white-130x46.png" width="130" height="46" border="0" alt="Protected by Copyscape" title="Protected by Copyscape - Do not copy content from this page." /></a></div>

  <!-- Google Adsense -->  
  <script data-ad-client="ca-pub-4819282024314540" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- github_resp_sidebar -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4819282024314540"
     data-ad-slot="1391498756"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  
  <!-- Affiliate Disclouse -->
  <div id="vig-disclose"><a href="https://www.viglink.com/legal/disclosures/users?vgtag=badge"><img alt="VigLink badge" height="60" src="https://www.viglink.com/images/badges/120x60.png" title="Links monetized by VigLink" width="120"/></a></div>
</aside>

	</div>
    </div>  

    <footer>   
    <div class="invitation-codes invitation-codes-badge1" data-type="badge1" data-product="" style="float:left;"><a class="" href="https://invitation.codes/" data-type="badge1">Use my referral codes</a></div>
<script async defer src="//invitation.codes/embed/user/qgcUCyqa/embed.js"></script>

    <div id="footer-copyright">&copy; 2014-2020 Chris KY FUNG. All rights reserved</div>
    <div id="footer-powered">Powered by <a href="https://pages.github.com">GitHub Pages</a></div>
</footer>

	
    
      <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-72575541-9"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-72575541-9');
	</script>
    
    
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d01c83d522ad580"></script>
    <script type="text/javascript">
  var vglnk = {key: '56a8cde8bc46ec169ed23320c0e35c68'};
  (function(d, t) {
      var s = d.createElement(t);
          s.type = 'text/javascript';
          s.async = true;
          s.src = '//cdn.viglink.com/api/vglnk.js';
      var r = d.getElementsByTagName(t)[0];
          r.parentNode.insertBefore(s, r);
  }(document, 'script'));
</script>
	  
  </body>
</html>

